<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentor Role Boundaries Interactive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .correct { border-color: #10b981; background-color: #ecfdf5; }
        .incorrect { border-color: #ef4444; background-color: #fef2f2; }
        .transition-all { transition: all 0.3s ease; }
    </style>
</head>
<body class="bg-slate-50 p-4 md:p-8 font-sans">

    <div class="max-w-2xl mx-auto">
        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6 text-center">
            <h1 class="text-2xl font-bold text-slate-800 mb-2">Role Boundaries Challenge</h1>
            <p class="text-slate-600 text-sm">Classify the following scenarios based on your training. Are they within your scope as a Peer Mentor?</p>
            
            <div class="flex justify-center gap-4 mt-4">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-emerald-500"></span>
                    <span class="text-xs font-semibold text-slate-500 uppercase">In-Scope</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-orange-500"></span>
                    <span class="text-xs font-semibold text-slate-500 uppercase">Out-of-Scope</span>
                </div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="space-y-4">
            <!-- Scenarios will be injected here -->
        </div>

        <!-- Results Section -->
        <div id="results" class="hidden mt-8 p-6 bg-white rounded-2xl shadow-md border-t-4 border-blue-600 text-center fade-in">
            <h2 class="text-2xl font-bold text-slate-800 mb-2">Challenge Complete!</h2>
            <p id="score-text" class="text-lg text-slate-600 mb-4"></p>
            <div id="feedback-message" class="p-4 rounded-xl mb-6 text-sm font-medium"></div>
            <button onclick="resetQuiz()" class="px-6 py-2 bg-slate-800 text-white rounded-lg font-bold hover:bg-slate-700 transition-all">
                Try Again
            </button>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                text: "Sharing your lived experience as a student to help normalize a mentee's challenges.",
                type: "in",
                explanation: "Correct! Sharing lived experience is a core part of being a peer mentor."
            },
            {
                text: "Helping a student navigate their Canvas dashboard to find assignment folders.",
                type: "in",
                explanation: "Correct! Technical navigation of university systems is within your scope."
            },
            {
                text: "Providing a formal diagnosis for a student mentioning symptoms of ADHD.",
                type: "out",
                explanation: "Correct! You are not a clinician. Refer them to Access & Inclusion."
            },
            {
                text: "Supporting a student with planning and time-blocking their study week.",
                type: "in",
                explanation: "Correct! Academic planning and support is a key mentoring activity."
            },
            {
                text: "Acting as the primary support person during a significant mental health crisis.",
                type: "out",
                explanation: "Correct! In a crisis, you must refer to the ECU Crisis Line or Counselling."
            },
            {
                text: "Suggesting specific medications or supplements to improve focus.",
                type: "out",
                explanation: "Correct! Medical advice is strictly out-of-scope for peer mentors."
            }
        ];

        let currentAnswers = {};
        const container = document.getElementById('quiz-container');

        function initQuiz() {
            container.innerHTML = '';
            document.getElementById('results').classList.add('hidden');
            
            scenarios.forEach((s, idx) => {
                const card = document.createElement('div');
                card.className = "bg-white p-5 rounded-xl border border-slate-200 shadow-sm fade-in transition-all";
                card.id = `card-${idx}`;
                card.innerHTML = `
                    <p class="text-slate-800 font-medium mb-4">${s.text}</p>
                    <div class="flex gap-3">
                        <button onclick="checkAnswer(${idx}, 'in')" id="btn-${idx}-in" 
                            class="flex-1 py-2 px-4 rounded-lg border-2 border-slate-100 bg-slate-50 text-slate-600 font-bold hover:border-emerald-200 hover:bg-emerald-50 transition-all">
                            In-Scope
                        </button>
                        <button onclick="checkAnswer(${idx}, 'out')" id="btn-${idx}-out" 
                            class="flex-1 py-2 px-4 rounded-lg border-2 border-slate-100 bg-slate-50 text-slate-600 font-bold hover:border-orange-200 hover:bg-orange-50 transition-all">
                            Out-of-Scope
                        </button>
                    </div>
                    <div id="feedback-${idx}" class="hidden mt-3 p-3 rounded-lg text-xs font-semibold"></div>
                `;
                container.appendChild(card);
            });
        }

        function checkAnswer(idx, choice) {
            if (currentAnswers[idx]) return; // Prevent double clicking
            
            currentAnswers[idx] = choice;
            const scenario = scenarios[idx];
            const card = document.getElementById(`card-${idx}`);
            const feedback = document.getElementById(`feedback-${idx}`);
            const btnIn = document.getElementById(`btn-${idx}-in`);
            const btnOut = document.getElementById(`btn-${idx}-out`);

            // Disable buttons
            btnIn.disabled = true;
            btnOut.disabled = true;

            feedback.classList.remove('hidden');
            feedback.innerText = scenario.explanation;

            if (choice === scenario.type) {
                card.classList.add('correct');
                feedback.classList.add('bg-emerald-100', 'text-emerald-800');
                if (choice === 'in') btnIn.classList.replace('bg-slate-50', 'bg-emerald-500'), btnIn.classList.replace('text-slate-600', 'text-white'), btnIn.classList.replace('border-slate-100', 'border-emerald-500');
                if (choice === 'out') btnOut.classList.replace('bg-slate-50', 'bg-orange-500'), btnOut.classList.replace('text-slate-600', 'text-white'), btnOut.classList.replace('border-slate-100', 'border-orange-500');
            } else {
                card.classList.add('incorrect');
                feedback.classList.add('bg-red-100', 'text-red-800');
                feedback.innerText = "Incorrect. " + scenario.explanation;
                if (choice === 'in') btnIn.classList.add('bg-red-500', 'text-white', 'border-red-500');
                if (choice === 'out') btnOut.classList.add('bg-red-500', 'text-white', 'border-red-500');
            }

            // Check if all answered
            if (Object.keys(currentAnswers).length === scenarios.length) {
                showFinalResults();
            }
        }

        function showFinalResults() {
            const resultsDiv = document.getElementById('results');
            const scoreText = document.getElementById('score-text');
            const msg = document.getElementById('feedback-message');
            
            let score = 0;
            scenarios.forEach((s, i) => {
                if (currentAnswers[i] === s.type) score++;
            });

            resultsDiv.classList.remove('hidden');
            scoreText.innerText = `You correctly identified ${score} out of ${scenarios.length} scenarios.`;

            if (score === scenarios.length) {
                msg.innerText = "Outstanding! You have a firm grasp on mentor boundaries and know exactly when to refer students to professional services.";
                msg.className = "p-4 rounded-xl mb-6 text-sm font-medium bg-emerald-100 text-emerald-800";
            } else {
                msg.innerText = "Good effort. Remember: Your role is to provide peer support and system navigation. Always refer clinical or crisis needs to ECU staff.";
                msg.className = "p-4 rounded-xl mb-6 text-sm font-medium bg-blue-100 text-blue-800";
            }
            
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetQuiz() {
            currentAnswers = {};
            initQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize on load
        window.onload = initQuiz;
    </script>
</body>
</html>
