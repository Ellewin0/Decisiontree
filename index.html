<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentor Support Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .correct { border-color: #10b981; background-color: #ecfdf5; }
        .incorrect { border-color: #ef4444; background-color: #fef2f2; }
        .transition-all { transition: all 0.3s ease; }
    </style>
</head>
<body class="bg-slate-50 font-sans text-slate-900 min-h-screen">

    <!-- NAVIGATION BAR -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-10">
        <div class="max-w-2xl mx-auto px-4">
            <div class="flex justify-between h-16">
                <div class="flex space-x-8">
                    <button onclick="switchTab('decision')" id="nav-decision" class="inline-flex items-center px-1 pt-1 border-b-2 border-blue-600 text-sm font-bold text-slate-900 transition-colors">
                        Decision Guide
                    </button>
                    <button onclick="switchTab('quiz')" id="nav-quiz" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-slate-500 hover:text-slate-700 hover:border-slate-300 transition-colors">
                        Boundary Challenge
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-2xl mx-auto p-4 md:p-8">
        
        <!-- ========================================== -->
        <!-- TAB 1: DECISION GUIDE (From boundaries.html) -->
        <!-- ========================================== -->
        <div id="tab-decision" class="fade-in">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-slate-800 mb-2">Mentor Decision Support</h1>
                <p class="text-slate-600 border-b pb-4">Decision Tree: What type of support is this?</p>
            </header>

            <!-- START VIEW -->
            <div id="start-view" class="space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="bg-blue-100 px-2 py-1 rounded text-blue-700 font-bold text-xs uppercase tracking-wider">Step 1</span>
                        <h2 class="text-xl font-semibold">Mentee shares a challenge</h2>
                    </div>
                    <p class="text-slate-700 mb-6 font-medium">Q1. This sounds mostly like...</p>

                    <div class="grid gap-3">
                        <button onclick="showResult('academic')" class="group flex items-center gap-4 p-4 text-left bg-white border border-slate-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition-all w-full">
                            <div class="p-2 bg-blue-50 rounded-lg text-blue-600">üìñ</div>
                            <div class="flex-1">
                                <h3 class="font-bold">Academic & Study Support</h3>
                                <p class="text-sm text-slate-500">Skills, planning, assessments, navigating systems.</p>
                            </div>
                        </button>

                        <button onclick="showResult('wellbeing')" class="group flex items-center gap-4 p-4 text-left bg-white border border-slate-200 rounded-xl hover:border-emerald-400 hover:bg-emerald-50 transition-all w-full">
                            <div class="p-2 bg-emerald-50 rounded-lg text-emerald-600">üå±</div>
                            <div class="flex-1">
                                <h3 class="font-bold">Wellbeing-in-Context</h3>
                                <p class="text-sm text-slate-500">Stress, overwhelm, confidence linked to study.</p>
                            </div>
                        </button>

                        <button onclick="showResult('redflags')" class="group flex items-center gap-4 p-4 text-left bg-white border border-slate-200 rounded-xl hover:border-rose-400 hover:bg-rose-50 transition-all w-full">
                            <div class="p-2 bg-rose-50 rounded-lg text-rose-600">‚ö†Ô∏è</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-rose-700">Red Flags & Escalation</h3>
                                <p class="text-sm text-slate-500">Safety concerns, severe distress.</p>
                            </div>
                        </button>

                        <button onclick="showResult('mixed')" class="group flex items-center gap-4 p-4 text-left bg-white border border-slate-200 rounded-xl hover:border-amber-400 hover:bg-amber-50 transition-all w-full">
                            <div class="p-2 bg-amber-50 rounded-lg text-amber-600">‚ùì</div>
                            <div class="flex-1">
                                <h3 class="font-bold">Mixed or Unclear</h3>
                                <p class="text-sm text-slate-500">Pause and clarify together before choosing.</p>
                            </div>
                        </button>
                    </div>
                </div>
                
                <div class="bg-blue-600 p-5 rounded-xl text-white">
                    <p class="text-sm"><strong>Quick Tip:</strong> You don‚Äôt need the perfect answer. You only need the next helpful step and the right pathway.</p>
                </div>
            </div>

            <!-- RESULT VIEW -->
            <div id="result-view" class="hidden space-y-4">
                <button onclick="goBack()" class="text-slate-500 hover:text-slate-800 font-medium flex items-center gap-2 mb-2">
                    ‚Üê Back to options
                </button>

                <div class="bg-white rounded-2xl shadow-md border border-slate-200 overflow-hidden">
                    <div id="result-accent" class="h-2 w-full bg-blue-500"></div>
                    <div class="p-6 md:p-8">
                        <h2 id="result-title" class="text-2xl font-bold mb-6 text-slate-800">Title</h2>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-600 p-6 rounded-r-xl mb-6">
                            <p class="font-bold text-blue-800 text-xs uppercase tracking-widest mb-2">Try this script</p>
                            <p id="result-script" class="text-lg italic text-slate-800 leading-relaxed"></p>
                        </div>

                        <div class="bg-emerald-50 border-l-4 border-emerald-600 p-6 rounded-r-xl">
                            <p class="font-bold text-emerald-800 text-xs uppercase tracking-widest mb-2">Mentor Check</p>
                            <p id="result-check" class="text-slate-800 text-sm md:text-base"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- TAB 2: BOUNDARY CHALLENGE (The Quiz) -->
        <!-- ========================================== -->
        <div id="tab-quiz" class="hidden fade-in">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-slate-800 mb-2">Boundary Challenge</h1>
                <p class="text-slate-600 border-b pb-4">Practice identifying In-Scope vs Out-of-Scope scenarios.</p>
            </header>

            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6">
                <div class="flex justify-center gap-8">
                    <div class="flex items-center gap-2">
                        <span class="w-3 h-3 rounded-full bg-emerald-500"></span>
                        <span class="text-xs font-bold text-slate-500 uppercase tracking-tighter">In-Scope</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-3 h-3 rounded-full bg-orange-500"></span>
                        <span class="text-xs font-bold text-slate-500 uppercase tracking-tighter">Out-of-Scope</span>
                    </div>
                </div>
            </div>

            <div id="quiz-container" class="space-y-4">
                <!-- Scenarios injected via JS -->
            </div>

            <!-- Quiz Results -->
            <div id="quiz-results" class="hidden mt-8 p-8 bg-white rounded-2xl shadow-md border-t-4 border-blue-600 text-center fade-in">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Challenge Complete!</h2>
                <p id="score-text" class="text-lg text-slate-600 mb-4"></p>
                <div id="feedback-message" class="p-4 rounded-xl mb-6 text-sm font-medium"></div>
                <button onclick="resetQuiz()" class="px-8 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-all shadow-lg shadow-blue-200">
                    Try Again
                </button>
            </div>
        </div>

    </div>

    <script>
        // DECISION GUIDE LOGIC
        const guideContent = {
            academic: {
                title: 'Academic & Study Support',
                color: '#2563eb',
                script: "‚ÄúIt sounds like the main hurdle right now is getting a handle on the academic side of things. Let‚Äôs look at how you‚Äôre managing your study load and where we can find some specific skills or systems to help.‚Äù",
                check: "Focus on empowering the mentee with tools and navigating university resources. You are a guide, not a tutor."
            },
            wellbeing: {
                title: 'Wellbeing-in-Context',
                color: '#10b981',
                script: "‚ÄúI can hear that the pressure of uni is really impacting how you're feeling overall. Let's talk about how you're balancing things and what we can do to manage that stress together.‚Äù",
                check: "Acknowledge the feeling first. Your role is to provide a supportive space to discuss study-related stress, not to be a therapist."
            },
            redflags: {
                title: 'Red Flags & Escalation',
                color: '#e11d48',
                script: "‚ÄúI‚Äôm really concerned about what you‚Äôve shared with me. My priority is your safety. Let‚Äôs look at the immediate support services available right now so we can get you the help you need.‚Äù",
                check: "Stop and follow the formal escalation protocol immediately. Do not try to handle severe distress on your own."
            },
            mixed: {
                title: 'Mixed or Unclear',
                color: '#d97706',
                script: "‚ÄúLet‚Äôs slow this down and work out what kind of support would help most right now ‚Äî study support, wellbeing support, or something more urgent.‚Äù",
                check: "You don‚Äôt need the perfect answer. You only need the next helpful step and the right pathway."
            }
        };

        function showResult(id) {
            const data = guideContent[id];
            document.getElementById('result-title').innerText = data.title;
            document.getElementById('result-script').innerText = data.script;
            document.getElementById('result-check').innerText = data.check;
            document.getElementById('result-accent').style.backgroundColor = data.color;
            document.getElementById('start-view').classList.add('hidden');
            document.getElementById('result-view').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function goBack() {
            document.getElementById('start-view').classList.remove('hidden');
            document.getElementById('result-view').classList.add('hidden');
        }

        // TAB SWITCHING LOGIC
        function switchTab(tab) {
            const decTab = document.getElementById('tab-decision');
            const quizTab = document.getElementById('tab-quiz');
            const navDec = document.getElementById('nav-decision');
            const navQuiz = document.getElementById('nav-quiz');

            if (tab === 'decision') {
                decTab.classList.remove('hidden');
                quizTab.classList.add('hidden');
                navDec.className = "inline-flex items-center px-1 pt-1 border-b-2 border-blue-600 text-sm font-bold text-slate-900";
                navQuiz.className = "inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-slate-500 hover:text-slate-700 hover:border-slate-300";
            } else {
                decTab.classList.add('hidden');
                quizTab.classList.remove('hidden');
                navDec.className = "inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-slate-500 hover:text-slate-700 hover:border-slate-300";
                navQuiz.className = "inline-flex items-center px-1 pt-1 border-b-2 border-blue-600 text-sm font-bold text-slate-900";
                initQuiz();
            }
        }

        // QUIZ LOGIC
        const quizScenarios = [
            { text: "Sharing your lived experience as a student to help normalize a mentee's challenges.", type: "in", exp: "Correct! Sharing lived experience is a core part of being a peer mentor." },
            { text: "Helping a student navigate their Canvas dashboard to find assignment folders.", type: "in", exp: "Correct! Technical navigation of university systems is within your scope." },
            { text: "Providing a formal diagnosis for a student mentioning symptoms of ADHD.", type: "out", exp: "Correct! You are not a clinician. Refer them to Access & Inclusion." },
            { text: "Supporting a student with planning and time-blocking their study week.", type: "in", exp: "Correct! Academic planning and support is a key mentoring activity." },
            { text: "Acting as the primary support person during a significant mental health crisis.", type: "out", exp: "Correct! In a crisis, you must refer to professional staff or emergency lines." },
            { text: "Suggesting specific medications or supplements to improve focus.", type: "out", exp: "Correct! Medical advice is strictly out-of-scope for peer mentors." }
        ];

        let quizAnswers = {};

        function initQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            document.getElementById('quiz-results').classList.add('hidden');
            quizAnswers = {};
            
            quizScenarios.forEach((s, idx) => {
                const card = document.createElement('div');
                card.className = "bg-white p-6 rounded-xl border border-slate-200 shadow-sm transition-all";
                card.id = `qcard-${idx}`;
                card.innerHTML = `
                    <p class="text-slate-800 font-medium mb-5">${s.text}</p>
                    <div class="flex gap-4">
                        <button onclick="handleQuizAnswer(${idx}, 'in')" id="qbtn-${idx}-in" 
                            class="flex-1 py-2 px-4 rounded-lg border-2 border-slate-100 bg-slate-50 text-slate-600 font-bold hover:border-emerald-200 transition-all">
                            In-Scope
                        </button>
                        <button onclick="handleQuizAnswer(${idx}, 'out')" id="qbtn-${idx}-out" 
                            class="flex-1 py-2 px-4 rounded-lg border-2 border-slate-100 bg-slate-50 text-slate-600 font-bold hover:border-orange-200 transition-all">
                            Out-of-Scope
                        </button>
                    </div>
                    <div id="qfeed-${idx}" class="hidden mt-4 p-3 rounded-lg text-xs font-semibold"></div>
                `;
                container.appendChild(card);
            });
        }

        function handleQuizAnswer(idx, choice) {
            if (quizAnswers[idx]) return;
            quizAnswers[idx] = choice;
            
            const scenario = quizScenarios[idx];
            const feedback = document.getElementById(`qfeed-${idx}`);
            const card = document.getElementById(`qcard-${idx}`);
            const btn = document.getElementById(`qbtn-${idx}-${choice}`);

            feedback.classList.remove('hidden');
            feedback.innerText = scenario.exp;

            if (choice === scenario.type) {
                card.classList.add('correct');
                feedback.classList.add('bg-emerald-100', 'text-emerald-800');
                btn.classList.replace('bg-slate-50', (choice === 'in' ? 'bg-emerald-500' : 'bg-orange-500'));
                btn.classList.replace('text-slate-600', 'text-white');
            } else {
                card.classList.add('incorrect');
                feedback.classList.add('bg-red-100', 'text-red-800');
                feedback.innerText = "Incorrect. " + scenario.exp;
                btn.classList.replace('bg-slate-50', 'bg-red-500');
                btn.classList.replace('text-slate-600', 'text-white');
            }

            if (Object.keys(quizAnswers).length === quizScenarios.length) {
                const resultsDiv = document.getElementById('quiz-results');
                let score = 0;
                quizScenarios.forEach((s, i) => { if (quizAnswers[i] === s.type) score++; });
                
                resultsDiv.classList.remove('hidden');
                document.getElementById('score-text').innerText = `Score: ${score} / ${quizScenarios.length}`;
                const fMsg = document.getElementById('feedback-message');
                if (score === quizScenarios.length) {
                    fMsg.innerText = "Perfect! You have a clear understanding of your role boundaries.";
                    fMsg.className = "p-4 rounded-xl mb-6 text-sm font-medium bg-emerald-100 text-emerald-800";
                } else {
                    fMsg.innerText = "Good effort. Review the Out-of-Scope items to ensure student safety.";
                    fMsg.className = "p-4 rounded-xl mb-6 text-sm font-medium bg-blue-100 text-blue-800";
                }
                resultsDiv.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function resetQuiz() {
            initQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
